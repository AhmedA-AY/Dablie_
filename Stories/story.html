<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="stories.css">
</head>
<body>
    <div class="container">
        <h1>Story</h1>
        <div class="divider"></div>
        <section id="story_container">
            <section class="top">
                <div class="top_written">
                    <h1>The Dablie Foundation Presents Its First Seminar</h1>
                    <p>Get to Know the Influential Voices Leading the Dablie Foundation's First Seminar.</p>
                </div>
                <div class="top_image">
                    <img id="image" alt="">
                </div>
            </section>
            <section class="middle">
                <div class="middle_upper">
                    <p>The Dablie Foundation is excited to announce its first-ever seminar, a groundbreaking event that brings together thought leaders, activists, and community members for an inspiring day of discussion and collaboration. This inaugural seminar aims to foster dialogue on critical social issues, empower participants with new knowledge, and build a strong network of advocates committed to positive change. Attendees will have the opportunity to engage with expert speakers, participate in interactive workshops, and connect with like-minded individuals. The seminar is a testament to the Dablie Foundation's dedication to creating inclusive and supportive communities, and it marks the beginning of many more impactful events to come.</p>
                </div>
                <div class="middle_lower">
                    <p>The seminar will feature a diverse lineup of speakers from various fields, each offering unique perspectives on how to drive progress and address pressing challenges. Participants can look forward to engaging sessions on topics such as community building, advocacy strategies, and innovative solutions to social issues. In addition to the sessions, there will be ample opportunities for networking, collaboration, and inspiration, as the Dablie Foundation aims to spark meaningful conversations that lead to tangible outcomes. This event is more than just a seminar; it is a celebration of collective effort and a step toward a more inclusive and equitable future.</p>
                </div>
            </section>
            <section class="updates">
                <h1>More Stories</h1>
                <div class="updates_grid">
                    <div class="update_card">
                        <img src="./HomePage/images/news_01.png" alt="Update 1">
                        <h4>Dablie Foundation Holds Successful Youth Leadership Workshop</h4>
                        <h5>The Dablie Foundation's Youth Empowerment Program, a free summer program for teenagers aged 16+,
                            concluded with a
                            succes...<a href="Stories/stories.html">Read More</a></h5>
                    </div>
                    <div class="update_card">
                        <img src="./HomePage/images/img2final.png   " alt="Update 2">
                        <h4>Dablie Foundation Wraps Up Successful Summer Program for Kids</h4>
                        <h5>The Dablie Foundation recently concluded Cohort 1 of its Summer Program 2023, a workshop designed to
                            equip young people...<a href="Stories/stories.html">Read More</a></h5>
                    </div>
                    <div class="update_card">
                        <img src="./HomePage/images/news_img3_edited.png" alt="Update 3">
                        <h4>Dablie Foundation Summer Internship Open</h4>
                        <h5>The Dablie Foundation has announced the opening of its summer internship program. The program offers
                            students and rece
                            ...<a href="Stories/stories.html">Read More</a></h5>
                    </div>
                </div>
            </section>
        </section>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const urlParams = new URLSearchParams(window.location.search);
            const storyId = urlParams.get('id');

            if (storyId) {
                fetchStory(storyId);
            } else {
                document.getElementById('story_container').textContent = 'Story not found.';
            }

            function fetchStory(id) {
                const url = `http://64.112.124.78:8000/news/${id}`;
                console.log(`Fetching story from: ${url}`);
                fetch(url, {
                    method: 'PUT',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok ' + response.statusText);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Received data:', data);
                    // if (data.status !== 'success' || !data.article) {
                    //     console.error('Invalid data structure:', data);
                    //     throw new Error('Invalid data structure');
                    // }
                    displayStory(data);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    document.getElementById('story_container').textContent = 'Error fetching story.';
                });
            }

            function displayStory(article) {
                const storyContainer = document.getElementById('story_container');
                storyContainer.innerHTML = '';

                const storyBox = document.createElement('div');
                storyBox.classList.add('story_box');

                const img = document.createElement('img');
                img.src = `http://64.112.124.78/data/images/${article.image}`;
                img.alt = article.headline;

                const headline = document.createElement('h2');
                headline.textContent = article.headline;

                const content = document.createElement('p');
                content.textContent = article.description;

                storyBox.appendChild(img);
                storyBox.appendChild(headline);
                storyBox.appendChild(content);

                storyContainer.appendChild(storyBox);
            }
        });
    </script>
</body>
</html>
